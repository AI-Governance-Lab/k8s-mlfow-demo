flowchart LR
  U["Client Browser or App"] -->|HTTP:30500| SVC["Service - NodePort mlflow"]
  SVC --> POD["Deployment - mlflow"]
  POD -->|Backend store| PG["PostgreSQL Bitnami"]
  POD -->|Artifacts via S3 API| MINIO["MinIO Bitnami"]

  subgraph "k3s Cluster (namespace mlflow)"
    SVC
    POD
    PG
    MINIO
    PVCpg["PVC for PostgreSQL"]
    PVCminio["PVC for MinIO"]
  end

  PG --- PVCpg
  MINIO --- PVCminio

  classDef svc fill:#eef,stroke:#66f;
  classDef pod fill:#efe,stroke:#2a2;
  classDef storage fill:#ffe,stroke:#cc7;
  class SVC svc;
  class POD pod;
  class PG,MINIO storage;
  class PVCpg,PVCminio storage;